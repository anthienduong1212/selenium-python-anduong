{"name": "Search and filter hotels successfully", "status": "failed", "statusDetails": {"message": "core.waiter.wait.TimeoutErrorWithScreenShot: Timeout after 4.000s (polls=20): \nElement(\"HOME_PAGE Search box\") should meet: visible.\nLast state: <not present>.\nLocator=//div[@id=\"autocomplete-box\"]//input", "trace": "booking_data = BookingData(destination='Dalat', checkin_date='2025-11-27', checkout_date='2025-11-30', occupancies={'occupancyRooms': 1, 'occupancyChildren': 0, 'occupancyAdults': 2}, filters=[])\n\n    @pytest.mark.parametrize(\"booking_data\", [\"test_tc01\"], indirect=True)\n    def test_tc01(booking_data: BookingData):\n        home_page = HomePage()\n        result_page = ResultPage()\n        hotel_detail_page = HotelDetails()\n    \n        AR.set_title(\"Search and filter hotels successfully\")\n    \n        home_page.open(BASE_URL)\n>       home_page.search_for_hotel(booking_data)\n\ntests\\agoda\\booking\\test_booking.py:28: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npages\\agoda\\home_page.py:107: in search_for_hotel\n    self.search_with_term(booking.destination)\npages\\agoda\\home_page.py:50: in search_with_term\n    search_box.type(text, True)\ncore\\element\\element.py:199: in type\n    self.should(cond_visible())\ncore\\element\\element.py:354: in should\n    temp_wait.until(_condition_checker, _on_timeout)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <core.waiter.wait.Waiter object at 0x000002A677D12DA0>, supplier = <function Element.should.<locals>._condition_checker at 0x000002A676A9F880>\non_timeout = <function Element.should.<locals>._on_timeout at 0x000002A676A9F910>\nignored_exceptions = (<class 'selenium.common.exceptions.NoSuchElementException'>, <class 'selenium.common.exceptions.StaleElementReferenceException'>)\n\n    def until(self,\n              supplier: Callable[[], T],\n              on_timeout: Callable[[], str],\n              ignored_exceptions: Optional[Iterable[Type[BaseException]]] = (\n                      NoSuchElementException,\n                      StaleElementReferenceException),\n              ) -> T:\n    \n        end = self._clock() + max(0.0, self.timeout_s)\n        last_exc: Optional[BaseException] = None\n        polls = 0\n    \n        while True:\n            try:\n                polls += 1\n                value = supplier()\n                if value:  # Return if truthy\n                    return value\n            except BaseException as e:\n                if ignored_exceptions and isinstance(e, tuple(ignored_exceptions)):\n                    last_exc = e\n                else:\n                    raise\n    \n            if self._clock() >= end:\n                break\n            time.sleep(self.poll_s)\n    \n        driver = DriverManager.get_current_driver()\n        if driver is not None:\n            try:\n                AllureReporter.attach_page_screenshot(driver, name=\"Timeout Screenshot\")\n            except Exception as e:\n                Logger.info(f\"Failed to attach screenshot via AllureReporter: {e}\")\n    \n        detail = on_timeout()\n        elapsed = max(0.0, self.timeout_s)\n    \n        msg = f\"Timeout after {elapsed:.3f}s (polls={polls}): \\n{detail}\"\n    \n        if last_exc:\n            msg += f\"\\nLast error: {type(last_exc).__name__}: {last_exc}\"\n    \n>       raise TimeoutErrorWithScreenShot(msg)\nE       core.waiter.wait.TimeoutErrorWithScreenShot: Timeout after 4.000s (polls=20): \nE       Element(\"HOME_PAGE Search box\") should meet: visible.\nE       Last state: <not present>.\nE       Locator=//div[@id=\"autocomplete-box\"]//input\n\ncore\\waiter\\wait.py:84: TimeoutErrorWithScreenShot"}, "steps": [{"name": "Navigate to 'https://www.agoda.com'", "status": "passed", "parameters": [{"name": "url", "value": "'https://www.agoda.com'"}], "start": 1764261217677, "stop": 1764261246431}, {"name": "Search for hotel in Dalat", "status": "failed", "statusDetails": {"message": "core.waiter.wait.TimeoutErrorWithScreenShot: Timeout after 4.000s (polls=20): \nElement(\"HOME_PAGE Search box\") should meet: visible.\nLast state: <not present>.\nLocator=//div[@id=\"autocomplete-box\"]//input\n", "trace": "  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\report\\reporting.py\", line 87, in step\n    yield\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\pages\\agoda\\home_page.py\", line 107, in search_for_hotel\n    self.search_with_term(booking.destination)\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\venv\\lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\pages\\agoda\\home_page.py\", line 50, in search_with_term\n    search_box.type(text, True)\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\element\\element.py\", line 199, in type\n    self.should(cond_visible())\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\element\\element.py\", line 354, in should\n    temp_wait.until(_condition_checker, _on_timeout)\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\waiter\\wait.py\", line 84, in until\n    raise TimeoutErrorWithScreenShot(msg)\n"}, "steps": [{"name": "Search with term: 'Dalat'", "status": "failed", "statusDetails": {"message": "core.waiter.wait.TimeoutErrorWithScreenShot: Timeout after 4.000s (polls=20): \nElement(\"HOME_PAGE Search box\") should meet: visible.\nLast state: <not present>.\nLocator=//div[@id=\"autocomplete-box\"]//input\n", "trace": "  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\venv\\lib\\site-packages\\allure_commons\\_allure.py\", line 202, in impl\n    return func(*a, **kw)\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\pages\\agoda\\home_page.py\", line 50, in search_with_term\n    search_box.type(text, True)\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\element\\element.py\", line 199, in type\n    self.should(cond_visible())\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\element\\element.py\", line 354, in should\n    temp_wait.until(_condition_checker, _on_timeout)\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\waiter\\wait.py\", line 84, in until\n    raise TimeoutErrorWithScreenShot(msg)\n"}, "steps": [{"name": "Type Dalat in to HOME_PAGE Search box", "status": "failed", "statusDetails": {"message": "core.waiter.wait.TimeoutErrorWithScreenShot: Timeout after 4.000s (polls=20): \nElement(\"HOME_PAGE Search box\") should meet: visible.\nLast state: <not present>.\nLocator=//div[@id=\"autocomplete-box\"]//input\n", "trace": "  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\report\\reporting.py\", line 87, in step\n    yield\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\element\\element.py\", line 199, in type\n    self.should(cond_visible())\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\element\\element.py\", line 354, in should\n    temp_wait.until(_condition_checker, _on_timeout)\n  File \"C:\\Users\\baon2\\IdeaProjects\\Selenium_Python\\selenium-python-anduong\\core\\waiter\\wait.py\", line 84, in until\n    raise TimeoutErrorWithScreenShot(msg)\n"}, "attachments": [{"name": "Page Screenshot", "source": "be181b6c-a205-446b-9746-1946c78595d1-attachment.png", "type": "image/png"}, {"name": "URL", "source": "ab9d4d8c-04c2-4f48-ab79-4445c4f47457-attachment.txt", "type": "text/plain"}, {"name": "Title", "source": "07a105cb-5af7-4d70-b725-bdfb610e1a1f-attachment.txt", "type": "text/plain"}, {"name": "Console logs", "source": "3b5e13fb-612f-41c2-a00b-886f7f3cd286-attachment.json", "type": "application/json"}, {"name": "Exception", "source": "b6558614-6212-4c9e-b371-9dbe4f71a6e3-attachment.txt", "type": "text/plain"}], "start": 1764261246432, "stop": 1764261250683}], "parameters": [{"name": "text", "value": "'Dalat'"}], "start": 1764261246432, "stop": 1764261250683}], "attachments": [{"name": "Page Screenshot", "source": "c3405bbb-2452-42f2-8aec-0c26deb71319-attachment.png", "type": "image/png"}, {"name": "URL", "source": "144d78b0-153f-4e72-9c54-8ff8fd75eabf-attachment.txt", "type": "text/plain"}, {"name": "Title", "source": "011ff894-e305-40b5-a08b-54a96230cda4-attachment.txt", "type": "text/plain"}, {"name": "Console logs", "source": "9fb5ab29-7d81-4413-9406-f75df77d29f4-attachment.json", "type": "application/json"}, {"name": "Exception", "source": "8c0d7d91-beb2-4bc6-a59c-3d9a2c4f136d-attachment.txt", "type": "text/plain"}], "start": 1764261246431, "stop": 1764261250750}], "parameters": [{"name": "browser_name", "value": "'firefox'"}, {"name": "booking_data", "value": "'test_tc01'"}], "start": 1764261217661, "stop": 1764261250750, "uuid": "bd2a8a38-e611-4d68-a7f0-0a9b12beede3", "historyId": "3ccfcaa715a2705a988e0b4c12eaf8f1", "testCaseId": "907fc359e0e0fa7b1f43ca7f5072a787", "fullName": "tests.agoda.booking.test_booking#test_tc01", "labels": [{"name": "parentSuite", "value": "tests.agoda.booking"}, {"name": "suite", "value": "test_booking"}, {"name": "host", "value": "DELL_G3_3590"}, {"name": "thread", "value": "13852-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.agoda.booking.test_booking"}], "titlePath": ["tests", "agoda", "booking", "test_booking.py"]}